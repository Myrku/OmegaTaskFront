# Тестовое задание OmegaSoftware

### Backend: https://github.com/Myrku/OmegaTaskBack
### Frontend: https://github.com/Myrku/OmegaTaskFront

Данные пользователя с ролью admin:
- Логин: test33
- Пароль: qwerty1234

Данные обычного польователя:
- Логин: test22
- Пароль: qwerty1234


## Backend
Backend представлен webapi, написанным на asp .net core 3.1.

- Для аутентификации использованы JWT-токены
- В качестве базы данных используется sqlite
- Для создания расписания использовался Quartz .net
- Пароли для большей безопасности хранятся в хэшированном формате

В качестве 3х API были выбраны:
- [Covid-19 API](https://covid19-api.org/)
- [API курсов валют](https://twelvedata.com/)
- [API Breaking Bad (получение цитат)](https://www.breakingbadapi.com/)

Backend включает в себя 2 контроллера: 
- AuthController (отвечает за авторизацию и аутентификацию)
- TaskController (отвечает за работу с задачами)

При старте приложения на выполнение автоматически ставятся все задачи из базы данных.
При добавлении создается триггер для вызова задачи, который хранит в себе необходимые для выполнения данные.
Все задачи представлены триггерами, хранящими данные о старте, переодичности и данные для выполнения задачи.
Тригеры вызывают срабатывание 3х имеющихся задач (CovidJob, ForexJob, QuoteJob).

## Frontend

Frontend выполнени с использованием Angular 10.

Frontend содержит:
- Страницу логина
![](https://i.ibb.co/hRpr63p/image.png)
- Страницу регистрации
![](https://i.ibb.co/1ngxcwj/image.png)
- Страницу с задачами пользователя (доступна после входа)
![](https://i.ibb.co/YtP5kym/image.png)
- Страницу со статистикой пользователей (доступна только пользователям с ролью "admin")
![](https://i.ibb.co/H7SgsQv/image.png)
- Окно добавления задачи
![](https://i.ibb.co/6n3KyxY/image.png)
- Окно редактирования задачи
![](https://i.ibb.co/9969kGb/image.png)
- Окно удаления
![](https://i.ibb.co/9pSHwnP/image.png)

На клиентской части происходит несколько дополнительных запросов:
- Получение стран для выбора статистики Covid
- Получение валютных пар

За взаимодействие с Backend отвечает 2 сервиса:
- AuthService - аутентификация и авторизация
- TaskService - CRUD для задач

## Database

В качестве базы данных используется sqlite.
База данных состоит из 4х таблиц:
- Users - информация о пользователях
- Tasks - информация о задачах
- Apis - используемые api
- Roles - используемые роли
